<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Loopin Marketing Indoor</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/frontend/src/shared/theme.css">
  <link rel="stylesheet" href="./dashboard.css">
</head>
<body>
  <!-- SIDEBAR -->
  <div id="sidebar-container"></div>

  <!-- LAYOUT PRINCIPAL -->
  <div class="main-layout">
    <main class="content-area">
      <!-- KPI GRID -->
      <div class="kpi-grid">
        <div class="kpi-card">
          <div class="kpi-icon blue">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="7" width="20" height="15" rx="2"></rect>
              <polyline points="17 2 12 7 7 2"></polyline>
            </svg>
          </div>
          <div class="kpi-content">
            <div class="kpi-label">Telas Ativas</div>
            <div class="kpi-value" id="totalScreens">0</div>
            <div class="kpi-change" id="screensStatus">0 online agora</div>
          </div>
        </div>

        <div class="kpi-card">
          <div class="kpi-icon green">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="8" y1="6" x2="21" y2="6"></line>
              <line x1="8" y1="12" x2="21" y2="12"></line>
              <line x1="8" y1="18" x2="21" y2="18"></line>
              <line x1="3" y1="6" x2="3.01" y2="6"></line>
              <line x1="3" y1="12" x2="3.01" y2="12"></line>
              <line x1="3" y1="18" x2="3.01" y2="18"></line>
            </svg>
          </div>
          <div class="kpi-content">
            <div class="kpi-label">Playlists</div>
            <div class="kpi-value" id="totalPlaylists">0</div>
            <div class="kpi-change" id="playlistsStatus">Carregando...</div>
          </div>
        </div>

        <div class="kpi-card">
          <div class="kpi-icon purple">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
          </div>
          <div class="kpi-content">
            <div class="kpi-label">Campanhas</div>
            <div class="kpi-value" id="totalCampaigns">0</div>
            <div class="kpi-change" id="campaignsStatus">Carregando...</div>
          </div>
        </div>

        <div class="kpi-card">
          <div class="kpi-icon orange">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
          </div>
          <div class="kpi-content">
            <div class="kpi-label">Locais Cadastrados</div>
            <div class="kpi-value" id="totalLocations">0</div>
            <div class="kpi-change" id="locationsStatus">Carregando...</div>
          </div>
        </div>
      </div>

      <!-- GRID DE CONTE칔DO -->
      <div class="content-grid">
        <!-- TELAS RECENTES -->
        <div class="card">
          <div class="card-header">
            <h2>Telas Recentes</h2>
            <a href="/frontend/src/screens/screens.html" class="btn btn-small">Ver Todas</a>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Nome da Tela</th>
                  <th>Local</th>
                  <th>Status</th>
                  <th>Playlist</th>
                </tr>
              </thead>
              <tbody id="screensTable">
                <tr>
                  <td colspan="4" class="table-loading">
                    <div class="spinner-small"></div>
                    Carregando telas...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- CAMPANHAS PR칍XIMAS -->
        <div class="card">
          <div class="card-header">
            <h2>Campanhas Pr칩ximas</h2>
            <a href="/frontend/src/campaigns/campaigns.html" class="btn btn-small">Ver Todas</a>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Campanha</th>
                  <th>Anunciante</th>
                  <th>Data In칤cio</th>
                  <th>Prioridade</th>
                </tr>
              </thead>
              <tbody id="campaignsTable">
                <tr>
                  <td colspan="4" class="table-loading">
                    <div class="spinner-small"></div>
                    Carregando campanhas...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- STATUS EM TEMPO REAL -->
        <div class="card card-full">
          <div class="card-header">
            <h2>Status em Tempo Real</h2>
            <button class="btn btn-small" id="btnRefreshStatus">游댃 Atualizar</button>
          </div>
          <div id="statusContainer" style="padding: 24px;">
            <div style="text-align: center; color: #718096;">
              <div class="spinner-small"></div>
              Carregando status...
            </div>
          </div>
        </div>

        <!-- ATALHOS R츼PIDOS -->
        <div class="card card-full">
          <div class="card-header">
            <h2>Atalhos R치pidos</h2>
          </div>
          <div class="quick-actions">
            <a href="/frontend/src/screens/screens.html" class="quick-action-card">
              <div class="quick-action-icon">游닠</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Nova Tela</div>
                <div class="quick-action-desc">Adicionar tela ao sistema</div>
              </div>
            </a>

            <a href="/frontend/src/locations/locations.html" class="quick-action-card">
              <div class="quick-action-icon">游늸</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Novo Local</div>
                <div class="quick-action-desc">Cadastrar estabelecimento</div>
              </div>
            </a>

            <a href="/frontend/src/campaigns/campaigns.html" class="quick-action-card">
              <div class="quick-action-icon">游닉</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Nova Campanha</div>
                <div class="quick-action-desc">Criar an칰ncio</div>
              </div>
            </a>

            <a href="/frontend/src/playlists/playlists.html" class="quick-action-card">
              <div class="quick-action-icon">郊윒잺</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Nova Playlist</div>
                <div class="quick-action-desc">Organizar conte칰do</div>
              </div>
            </a>

            <a href="/frontend/src/reports/reports.html" class="quick-action-card">
              <div class="quick-action-icon">游늵</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Relat칩rios</div>
                <div class="quick-action-desc">Ver estat칤sticas</div>
              </div>
            </a>

            <a href="/frontend/src/settings/settings.html" class="quick-action-card">
              <div class="quick-action-icon">丘뙖잺</div>
              <div class="quick-action-content">
                <div class="quick-action-title">Configura칞칫es</div>
                <div class="quick-action-desc">Ajustar sistema</div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/frontend/src/shared/config.js"></script>
  <script src="/frontend/src/shared/utils.js"></script>
  <script src="/frontend/src/shared/api-helpers.js"></script>
  <script src="./dashboard.js"></script>
</body>
</html>